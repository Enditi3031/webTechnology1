@model IEnumerable<DemoDB2_B04.Models.OrderDetail>

@{
    ViewBag.Title = "chitiet";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Chi Tiết Đơn Hàng Của Khách Hàng</h2>

<table class="table" style=" margin-bottom: 620px; ">
    <tr>

        <th>
            Hình Ảnh
        </th>
        <th>
            Tên Sản Phẩm
        </th>
        <th>
            Số Lượng Sản Phẩm Đã Mua
        </th>
        <th>
            Giá Sản Phẩm
        </th>
        <th></th>
    </tr>


    @foreach (var item in Model)
    {
        <tr>
        <tr>
            <td>
                <img src="@Url.Content(item.ImagePro)" height="100" width="100" />
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.NamePro)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Quantity)
            </td>
            <td class="price">
                @Html.DisplayFor(modelItem => item.UnitPrice)
            </td>
        </tr>
        </tr>
    }
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var priceElements = document.querySelectorAll(".price");

            priceElements.forEach(function (element) {
                var priceValue = element.textContent;
                var formattedPrice = formatPrice(priceValue);
                element.textContent = formattedPrice;
            });

            function formatPrice(price) {
                // Chuyển đổi thành số nguyên
                var integerPart = parseInt(price);
                // Thêm dấu phẩy ngăn cách hàng ngàn
                var formattedPrice = integerPart.toLocaleString("vi-VN");
                // Thêm đơn vị tiền tệ
                formattedPrice += " đ";
                return formattedPrice;
            }
        });
    </script>

</table>
